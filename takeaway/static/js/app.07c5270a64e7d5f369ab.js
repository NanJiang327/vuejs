webpackJsonp([1], {'42lN': function (t, s) {}, '4izA': function (t, s) {}, '8X7o': function (t, s) {}, '9n10': function (t, s) {}, '9wdl': function (t, s) {}, HoGM: function (t, s) {}, HzYu: function (t, s) {}, M6Sr: function (t, s) {}, NHnr: function (t, s, e) { 'use strict'; Object.defineProperty(s, '__esModule', {value: !0}); var i = e('7+uW'), a = {name: 'Star', props: {size: {type: Number}, score: {type: Number}}, computed: {starType: function () { return 'star-' + this.size }, itemClasses: function () { for (var t = [], s = Math.floor(2 * this.score) / 2, e = s % 1 != 0, i = Math.floor(s), a = 0; a < i; a++)t.push('on'); for (e && t.push('half'); t.length < 5;)t.push('off'); return t }}}, n = {render: function () { var t = this.$createElement, s = this._self._c || t; return s('div', {staticClass: 'star', class: this.starType}, this._l(this.itemClasses, function (t, e) { return s('span', {key: e, staticClass: 'star-item', class: t}) })) }, staticRenderFns: []}; var o = e('VU/8')(a, n, !1, function (t) { e('HoGM') }, 'data-v-0aa07f60', null).exports, r = {name: 'GoodIcon', props: {item: Object, iconInside: Boolean}, created: function () { this.classMap = ['special', 'discount', 'decrease', 'invoice', 'guarantee'] }, methods: {selectMenu: function () { this.$emit('selectedMenu') }}}, l = {render: function () { var t = this, s = t.$createElement, e = t._self._c || s; return t.iconInside ? e('li', {on: {click: function (s) { return s.preventDefault(), t.selectMenu(s) }}}, [e('span', {staticClass: 'text'}, [e('span', {directives: [{name: 'show', rawName: 'v-show', value: t.item.type >= 0, expression: 'item.type>=0'}], staticClass: 'icon', class: t.classMap[t.item.type]}), t._v(t._s(t.item.description) + '\n  ')])]):e('li', [e('span', {directives: [{name: 'show', rawName: 'v-show', value: t.item.type >= 0, expression: 'item.type>=0'}], staticClass: 'icon', class: t.classMap[t.item.type]}), t._v(' '), e('span', {staticClass: 'text'}, [t._v(t._s(t.item.description))])]) }, staticRenderFns: []}; var c = e('VU/8')(r, l, !1, function (t) { e('42lN') }, 'data-v-5bca99fc', null).exports, d = {name: 'MainHeader', components: {Star: o, GoodIcon: c}, props: {seller: Object}, data: function () { return {detailShow: !1} }, methods: {showDetail: function () { this.detailShow = !0 }, hideDetail: function () { this.detailShow = !1 }}}, v = {render: function () { var t = this, s = t.$createElement, e = t._self._c || s; return e('div', {staticClass: 'header'}, [e('div', {staticClass: 'content-wrapper'}, [e('div', {staticClass: 'avatar'}, [e('img', {attrs: {src: t.seller.avatar, alt: ''}})]), t._v(' '), e('div', {staticClass: 'content'}, [e('div', {staticClass: 'title'}, [e('span', {staticClass: 'brand'}), t._v(' '), e('span', {staticClass: 'name'}, [t._v(t._s(t.seller.name))])]), t._v(' '), e('div', {staticClass: 'description'}, [t._v('\n        ' + t._s(t.seller.description) + ' / ' + t._s(t.seller.deliveryTime) + ' 分钟送达\n      ')]), t._v(' '), t.seller.supports ? e('ul', {staticClass: 'support-item'}, [e('good-icon', {staticClass: 'support-item icon-style-one', attrs: {item: t.seller.supports[0]}})], 1):t._e()]), t._v(' '), t.seller.supports ? e('div', {staticClass: 'support-count', on: {click: t.showDetail}}, [e('span', {staticClass: 'count'}, [t._v(t._s(t.seller.supports.length) + '个')]), t._v(' '), e('i', {staticClass: 'icon-keyboard_arrow_right'})]):t._e()]), t._v(' '), e('div', {staticClass: 'bulletin-wrapper', on: {click: t.showDetail}}, [e('span', {staticClass: 'bulletin-title'}), e('span', {staticClass: 'bulletin-text'}, [t._v(t._s(t.seller.bulletin))]), t._v(' '), e('i', {staticClass: 'icon-keyboard_arrow_right'})]), t._v(' '), e('div', {staticClass: 'background'}, [e('img', {attrs: {src: t.seller.avatar, alt: '', width: '100%', height: '100%'}})]), t._v(' '), e('transition', [e('div', {directives: [{name: 'show', rawName: 'v-show', value: t.detailShow, expression: 'detailShow'}], staticClass: 'detail'}, [e('div', {staticClass: 'detail-wrapper clearfix'}, [e('div', {staticClass: 'detail-content'}, [e('h1', {staticClass: 'name'}, [t._v(t._s(t.seller.name))]), t._v(' '), e('div', {staticClass: 'star-wrapper'}, [e('star', {attrs: {size: 48, score: t.seller.score}})], 1), t._v(' '), e('div', {staticClass: 'title'}, [e('div', {staticClass: 'line'}), t._v(' '), e('div', {staticClass: 'text'}, [t._v('Specail')]), t._v(' '), e('div', {staticClass: 'line'})]), t._v(' '), t.seller.supports ? e('ul', {staticClass: 'supports'}, t._l(t.seller.supports, function (s, i) { return s.type >= 0 ? e('good-icon', {key: i, staticClass: 'support-item icon-style-two', attrs: {item: s}}):t._e() })):t._e(), t._v(' '), e('div', {staticClass: 'title'}, [e('div', {staticClass: 'line'}), t._v(' '), e('div', {staticClass: 'text'}, [t._v('Announcement')]), t._v(' '), e('div', {staticClass: 'line'})]), t._v(' '), e('div', {staticClass: 'bulletin'}, [e('p', {staticClass: 'content'}, [t._v(t._s(t.seller.bulletin))])])])]), t._v(' '), e('div', {staticClass: 'detail-close', on: {click: t.hideDetail}}, [e('i', {staticClass: 'icon-close'})])])])], 1) }, staticRenderFns: []}; var u = e('VU/8')(d, v, !1, function (t) { e('4izA') }, 'data-v-21963efa', null).exports, p = e('mtWM'), h = e.n(p), f = {name: 'App', data: function () { return {seller: {}} }, components: {MainHeader: u}, created: function () { this.getSellerInfo() }, methods: {getSellerInfo: function () { h.a.get('https://raw.githubusercontent.com/NanJiang327/vuejs/master/takeaway/jsondata/data.json').then(this.getHomeInfoSucc) }, getHomeInfoSucc: function (t) { t.status===200 && (this.seller = t.data.seller) }}}, _ = {render: function () { var t = this, s = t.$createElement, e = t._self._c || s; return e('div', {attrs: {id: 'app'}}, [e('main-header', {attrs: {seller: t.seller}}), t._v(' '), e('div', {staticClass: 'tab border-bottom'}, [e('div', {staticClass: 'tab-item'}, [e('router-link', {attrs: {to: '/goods'}}, [t._v('Goods')])], 1), t._v(' '), e('div', {staticClass: 'tab-item'}, [e('router-link', {attrs: {to: '/rating'}}, [t._v('Rating')])], 1), t._v(' '), e('div', {staticClass: 'tab-item'}, [e('router-link', {attrs: {to: '/seller'}}, [t._v('Seller')])], 1)]), t._v(' '), e('keep-alive', [e('router-view', {attrs: {seller: t.seller}})], 1)], 1) }, staticRenderFns: []}; var m = e('VU/8')(f, _, !1, function (t) { e('9wdl') }, 'data-v-f486745e', null).exports, C = e('/ocq'), g = e('GQaK'), w = {render: function () { var t = this.$createElement; return (this._self._c || t)('div', {staticClass: 'spliter'}) }, staticRenderFns: []}; var y = e('VU/8')({name: 'Spliter'}, w, !1, function (t) { e('c/UJ') }, 'data-v-37eec83c', null).exports, b = {name: 'Comment', props: {ratings: {type: Array, default: function () { return [] }}, desc: {type: Object, default: function () { return {all: 'All', positive: 'Positive', negative: 'Negative'} }}, ratingType: {type: Number, default: 2}, onlyContent: {type: Boolean, default: !1}}, computed: {positive: function () { return this.ratings.filter(function (t) { return t.rateType===0 }).length }, negative: function () { return this.ratings.filter(function (t) { return t.rateType===1 }).length }}, methods: {select: function (t, s) { this.$emit('ratingtype', t) }, toggleContent: function () { this.$emit('contenttype') }}}, x = {render: function () { var t = this, s = t.$createElement, e = t._self._c || s; return e('div', {staticClass: 'ratingselect'}, [e('div', {staticClass: 'rating-type border-bottom'}, [e('div', {staticClass: 'bottom-wrapper'}, [e('span', {staticClass: 'block all', class: {active: t.ratingType===2}, on: {click: function (s) { t.select(2, s) }}}, [t._v(t._s(t.desc.all)), e('span', {staticClass: 'count'}, [t._v(t._s(t.ratings.length))])]), t._v(' '), e('span', {staticClass: 'block positive', class: {active: t.ratingType===0}, on: {click: function (s) { t.select(0, s) }}}, [t._v(t._s(t.desc.positive)), e('span', {staticClass: 'count'}, [t._v(t._s(t.positive))])]), t._v(' '), e('span', {staticClass: 'block negative', class: {active: t.ratingType===1}, on: {click: function (s) { t.select(1, s) }}}, [t._v(t._s(t.desc.negative)), e('span', {staticClass: 'count'}, [t._v(t._s(t.negative))])])])]), t._v(' '), e('div', {staticClass: 'switch border-bottom', class: {on: t.onlyContent}, on: {click: t.toggleContent}}, [e('span', {staticClass: 'icon-check_circle'}), t._v(' '), e('span', {staticClass: 'text'}, [t._v('Rating with comments')])])]) }, staticRenderFns: []}; var k = e('VU/8')(b, x, !1, function (t) { e('WMfk') }, 'data-v-0b22cac9', null).exports; function S (t, s) { /(y+)/.test(s) && (s = s.replace(RegExp.$1, (t.getFullYear() + '').substr(4 - RegExp.$1.length))); var e = {'M+': t.getMonth() + 1, 'd+': t.getDate(), 'h+': t.getHours(), 'm+': t.getMinutes(), 's+': t.getSeconds()}; for (var i in e) if(new RegExp('(' + i + ')').test(s)) { var a = e[i] + ''; s = s.replace(RegExp.$1, RegExp.$1.length===1 ? a:T(a)) } return s } function T (t) { return ('00' + t).substr(t.length) } var $ = {props: {seller: {type: Object}}, data: function () { return {ratings: [], showFlag: !1, ratingType: 2, onlyContent: !0} }, created: function () { var t = this; h.a.get('https://raw.githubusercontent.com/NanJiang327/vuejs/master/takeaway/jsondata/data.json').then(function (s) { s.status===200 && (t.ratings = s.data.ratings, t.$nextTick(function () { t.scroll = new g.a(t.$el, {click: !0}) })) }) }, methods: {typeChange: function (t) { var s = this; this.ratingType = t, this.$nextTick(function () { s.scroll.refresh() }) }, contentOnly: function () { var t = this; this.onlyContent = !this.onlyContent, this.$nextTick(function () { t.scroll.refresh() }) }, needShow: function (t, s) { return !(this.onlyContent && !s) && (this.ratingType===2 || t === this.ratingType) }}, filters: {formateDate: function (t) { return S(new Date(t), 'yyyy-MM-dd hh:mm') }}, components: {star: o, split: y, ratingselect: k}}, F = {render: function () { var t = this, s = t.$createElement, e = t._self._c || s; return e('div', {staticClass: 'ratings'}, [e('div', [e('div', {staticClass: 'ratings-content'}, [e('div', {staticClass: 'overview'}, [e('div', {staticClass: 'overview-left'}, [e('h1', {staticClass: 'score'}, [t._v(t._s(t.seller.score))]), t._v(' '), e('div', {staticClass: 'title'}, [t._v('Overall')]), t._v(' '), e('div', {staticClass: 'rank'}, [t._v('Better than ' + t._s(t.seller.rankRate) + '%')])]), t._v(' '), e('div', {staticClass: 'overview-right'}, [e('div', {staticClass: 'score-wrapper'}, [e('span', {staticClass: 'title'}, [t._v('Satisfaction')]), t._v(' '), e('star', {attrs: {size: 36, score: t.seller.serviceScore}}), t._v(' '), e('span', {staticClass: 'score'}, [t._v(t._s(t.seller.serviceScore))])], 1), t._v(' '), e('div', {staticClass: 'score-wrapper'}, [e('span', {staticClass: 'title'}, [t._v('Score')]), t._v(' '), e('star', {attrs: {size: 36, score: t.seller.foodScore}}), t._v(' '), e('span', {staticClass: 'score'}, [t._v(t._s(t.seller.foodScore))])], 1), t._v(' '), e('div', {staticClass: 'delivery-wrapper'}, [e('span', {staticClass: 'title'}, [t._v('Delivery Time')]), t._v(' '), e('span', {staticClass: 'delivery'}, [t._v(t._s(t.seller.deliveryTime) + ' mins')])])])])]), t._v(' '), e('split'), t._v(' '), e('ratingselect', {attrs: {ratingType: t.ratingType, onlyContent: t.onlyContent, ratings: t.ratings}, on: {contenttype: t.contentOnly, ratingtype: t.typeChange}}), t._v(' '), e('div', {staticClass: 'rating-wrapper border-bottom'}, [e('ul', t._l(t.ratings, function (s, i) { return e('li', {directives: [{name: 'show', rawName: 'v-show', value: t.needShow(s.rateType, s.text), expression: 'needShow(rating.rateType, rating.text)'}], key: i, staticClass: 'rating-item border-bottom'}, [e('div', {staticClass: 'avatar'}, [e('img', {attrs: {src: s.avatar, alt: '', width: '28', height: '28'}})]), t._v(' '), e('div', {staticClass: 'content'}, [e('h1', {staticClass: 'name'}, [t._v(t._s(s.username))]), t._v(' '), e('div', {staticClass: 'star-wrapper'}, [e('star', {attrs: {size: 24, score: s.score}}), t._v(' '), e('span', {directives: [{name: 'show', rawName: 'v-show', value: s.deliveryTime, expression: 'rating.deliveryTime'}], staticClass: 'delivery'}, [t._v('\n              ' + t._s(s.deliveryTime) + '\n            ')])], 1), t._v(' '), e('p', {staticClass: 'text'}, [t._v(t._s(s.text))]), t._v(' '), e('div', {directives: [{name: 'show', rawName: 'v-show', value: s.recommend && s.recommend.length, expression: 'rating.recommend &&rating.recommend.length'}], staticClass: 'recommend'}, [e('i', {staticClass: 'iconfont icon-damuzhi'}), t._v(' '), t._l(s.recommend, function (s, i) { return e('span', {key: i, staticClass: 'item'}, [t._v(t._s(s))]) })], 2), t._v(' '), e('div', {staticClass: 'time'}, [t._v('\n            ' + t._s(t._f('formateDate')(s.rateTime)) + '\n          ')])])]) }))])], 1)]) }, staticRenderFns: []}; var N = e('VU/8')($, F, !1, function (t) { e('sLx4') }, 'data-v-7878fe7f', null).exports, M = {name: 'CartNum', props: {food: {type: Object}}, methods: {addCart: function () { this.food.count ? this.food.count++:i.a.set(this.food, 'count', 1), this.$emit('cartadd', event.target) }, decsCart: function (t) { this.food.count && this.food.count-- }}}, D = {render: function () { var t = this, s = t.$createElement, e = t._self._c || s; return e('div', {staticClass: 'cartcontrol'}, [e('transition', [e('div', {directives: [{name: 'show', rawName: 'v-show', value: this.food.count > 0, expression: 'this.food.count>0'}], staticClass: 'cart-dec', on: {click: function (s) { return s.stopPropagation(), s.preventDefault(), t.decsCart(s) }}}, [e('span', {staticClass: 'inner icon-remove_circle_outline'})])]), t._v(' '), e('div', {directives: [{name: 'show', rawName: 'v-show', value: this.food.count > 0, expression: 'this.food.count>0'}], staticClass: 'cart-count'}, [t._v(t._s(this.food.count))]), t._v(' '), e('div', {staticClass: 'cart-add icon-add_circle', on: {click: function (s) { return s.stopPropagation(), s.preventDefault(), t.addCart(s) }}})], 1) }, staticRenderFns: []}; var P = e('VU/8')(M, D, !1, function (t) { e('8X7o') }, 'data-v-110b2d36', null).exports, E = {name: 'FoodDetail', components: {CartNum: P, Spliter: y, Rating: k}, props: {food: Object}, data: function () { return {showDetail: !1, ratingType: 2, onlyContent: !1, desc: {all: 'All', positive: 'Recommend', negative: 'Negative'}} }, filters: {formateDate: function (t) { return S(new Date(t), 'yyyy-MM-dd hh:mm') }}, methods: {show: function () { var t = this; this.showDetail = !0, this.ratingType = 2, this.onlyContent = !1, this.$nextTick(function () { t.foodScroll ? t.foodScroll.refresh():t.foodScroll = new g.a(t.$refs.foodDetail, {click: !0}) }) }, addMore: function () { this.$emit('cartadd', event.target) }, hide: function () { this.showDetail = !1 }, addCart: function () { this.$emit('cartadd', event.target), i.a.set(this.food, 'count', 1) }, typeChange: function (t) { var s = this; this.ratingType = t, this.$nextTick(function () { s.foodScroll.refresh() }) }, contentOnly: function () { var t = this; this.onlyContent = !this.onlyContent, this.$nextTick(function () { t.foodScroll.refresh() }) }, needShow: function (t, s) { return !(this.onlyContent && !s) && (this.ratingType===2 || t === this.ratingType) }}, computed: {showAdd: function () { return !this.food.count || this.food.count===0 }}}, R = {render: function () { var t = this, s = t.$createElement, e = t._self._c || s; return e('transition', {attrs: {name: 'food'}}, [e('div', {directives: [{name: 'show', rawName: 'v-show', value: t.showDetail, expression: 'showDetail'}], ref: 'foodDetail', staticClass: 'food'}, [e('div', [e('div', {staticClass: 'food-content'}, [e('div', {staticClass: 'image-header'}, [e('img', {attrs: {src: t.food.image, alt: ''}}), t._v(' '), e('div', {staticClass: 'icon-wrapper', on: {click: t.hide}}, [e('i', {staticClass: 'icon-arrow_left'})])]), t._v(' '), e('div', {staticClass: 'content'}, [e('h1', {staticClass: 'title'}, [t._v(t._s(t.food.name))]), t._v(' '), e('div', {staticClass: 'detail'}, [e('span', {staticClass: 'sell-count'}, [t._v(t._s(t.food.sellCount) + ' Sold')]), t._v(' '), e('span', {staticClass: 'rating'}, [t._v(t._s(t.food.rating) + '% satisfaction')])]), t._v(' '), e('div', {staticClass: 'price'}, [e('span', {staticClass: 'now'}, [t._v('$' + t._s(t.food.price))]), e('span', {directives: [{name: 'show', rawName: 'v-show', value: t.food.oldPrice, expression: 'food.oldPrice'}], staticClass: 'old'}, [t._v('$' + t._s(t.food.oldPrice))])]), t._v(' '), e('div', {staticClass: 'cartControl-wrapper'}, [e('cart-num', {attrs: {food: t.food}, on: {cartadd: t.addMore}})], 1), t._v(' '), e('transition', [e('div', {directives: [{name: 'show', rawName: 'v-show', value: t.showAdd, expression: 'showAdd'}], staticClass: 'add', on: {click: t.addCart}}, [t._v('\n                Add to cart\n            ')])])], 1)]), t._v(' '), e('spliter', {directives: [{name: 'show', rawName: 'v-show', value: t.food.info, expression: 'food.info'}]}), t._v(' '), e('div', {directives: [{name: 'show', rawName: 'v-show', value: t.food.info, expression: 'food.info'}], staticClass: 'intro'}, [e('h1', {staticClass: 'title'}, [t._v('Product Info')]), t._v(' '), e('div', {staticClass: 'text'}, [t._v(t._s(t.food.info))])]), t._v(' '), e('spliter'), t._v(' '), e('div', {staticClass: 'rating border-bottom'}, [e('h1', {staticClass: 'title'}, [t._v('Ratings')]), t._v(' '), e('rating', {attrs: {ratings: t.food.ratings, desc: t.desc, ratingType: t.ratingType, onlyContent: t.onlyContent}, on: {ratingtype: t.typeChange, contenttype: t.contentOnly}}), t._v(' '), e('div', {staticClass: 'rating-wrapper'}, [e('ul', {directives: [{name: 'show', rawName: 'v-show', value: t.food.ratings && t.food.ratings.length, expression: 'food.ratings && food.ratings.length'}]}, t._l(t.food.ratings, function (s, i) { return e('li', {directives: [{name: 'show', rawName: 'v-show', value: t.needShow(s.rateType, s.text), expression: 'needShow(rating.rateType, rating.text)'}], key: i, staticClass: 'rating-item border-bottom'}, [e('div', {staticClass: 'user'}, [e('span', {staticClass: 'name'}, [t._v(t._s(s.username))]), t._v(' '), e('img', {staticClass: 'avatar', attrs: {src: s.avatar, alt: '', width: '12', height: '12'}})]), t._v(' '), e('div', {staticClass: 'time'}, [t._v(t._s(t._f('formateDate')(s.rateTime)))]), t._v(' '), e('p', {staticClass: 'text'}, [e('span', {class: {'icon-thumb_up': s.rateType===0, 'icon-thumb_down': s.rateType===1}}), t._v(t._s(s.text) + '\n              ')])]) })), t._v(' '), e('div', {directives: [{name: 'show', rawName: 'v-show', value: !t.food.ratings || !t.food.ratings.length, expression: '!food.ratings || !food.ratings.length'}], staticClass: 'no-rating'}, [t._v('No Comments')])])], 1)], 1)])]) }, staticRenderFns: []}; var H = e('VU/8')(E, R, !1, function (t) { e('vXMS') }, 'data-v-6c3fcd11', null).exports, I = {name: 'ShopCart', components: {CartNum: P}, data: function () { return {balls: [{show: !1}, {show: !1}, {show: !1}, {show: !1}, {show: !1}], dropBalls: [], fold: !0} }, methods: {drop: function (t) { for (var s = 0; s < this.balls.length; s++) { var e = this.balls[s]; if (!e.show) return e.show = !0, e.el = t, void this.dropBalls.push(e) } }, hideList: function () { this.fold = !0 }, beforeEnter: function (t) { for (var s = this.balls.length; s--;) { var e = this.balls[s]; if (e.show) { var i = e.el.getBoundingClientRect(), a = i.left - 32, n = -(window.innerHeight - i.top - 22); t.style.display = '', t.style.webkitTransform = 'translate3d(0,' + n + 'px,0)', t.style.transform = 'translate3d(0,' + n + 'px,0)'; var o = t.getElementsByClassName('inner-hook')[0]; o.style.webkitTransform = 'translate3d(' + a + 'px,0,0)', o.style.transform = 'translate3d(' + a + 'px,0,0)' } } }, enter: function (t) { t.offsetHeight; this.$nextTick(function () { t.style.webkitTransform = 'translate3d(0,0,0)', t.style.transform = 'translate3d(0,0,0)'; var s = t.getElementsByClassName('inner-hook')[0]; s.style.webkitTransform = 'translate3d(0,0,0)', s.style.transform = 'translate3d(0,0,0)' }) }, afterEnter: function (t) { var s = this.dropBalls.shift(); s && (s.show = !1, t.style.display = 'none') }, toggleList: function () { var t = this; this.totalFoods.totalCount && (this.fold = !this.fold), this.fold || this.$nextTick(function () { t.scroll ? t.scroll.refresh():t.scroll = new g.a(t.$refs.listContent, {click: !0}) }) }, empty: function () { var t = this; this.selectFoods.forEach(function (s) { s.count = 0, t.fold = !0 }) }, pay: function () { this.totalFoods.totalPrice < this.minPrice || window.alert('Total $' + this.totalFoods.totalPrice) }}, props: {selectFoods: {type: Array, default: function () { return [] }}, seller: Object}, computed: {totalFoods: function () { var t = 0, s = 0; return this.selectFoods.forEach(function (e) { t += e.price * e.count, s += e.count }), {totalPrice: t, totalCount: s} }, payDesc: function () { return this.totalFoods.totalPrice===0 ? '$' + this.seller.minPrice + ' 起送':this.totalFoods.totalPrice < this.seller.minPrice ? '还差 $' + (this.seller.minPrice - this.totalFoods.totalPrice) + ' 起送':'Check Out' }, payClass: function () { return this.totalFoods.totalPrice < this.seller.minPrice ? 'not-enough':'enough' }, listShow: {get: function () { return this.fold }, set: function () { return this.totalFoods.totalCount ? !this.fold:(this.fold = !0, !1) }}}}, A = {render: function () { var t = this, s = t.$createElement, e = t._self._c || s; return e('div', [e('div', {staticClass: 'shopcart'}, [e('div', {staticClass: 'content', on: {click: t.toggleList}}, [e('div', {staticClass: 'content-left'}, [e('div', {staticClass: 'logo-wrapper'}, [e('div', {staticClass: 'logo', class: {highlight: t.totalFoods.totalCount > 0}}, [e('i', {staticClass: 'icon-shopping_cart', class: {highlight: t.totalFoods.totalCount > 0}})]), t._v(' '), e('div', {directives: [{name: 'show', rawName: 'v-show', value: t.totalFoods.totalCount > 0, expression: 'totalFoods.totalCount > 0'}], staticClass: 'num'}, [t._v(t._s(t.totalFoods.totalCount))])]), t._v(' '), e('div', {staticClass: 'price border-right', class: {highlight: t.totalFoods.totalPrice > 0}}, [t._v('$ ' + t._s(t.totalFoods.totalPrice))]), t._v(' '), e('div', {staticClass: 'desc'}, [t._v('Delivery fee $' + t._s(t.seller.deliveryPrice))])]), t._v(' '), e('div', {staticClass: 'content-right', on: {click: function (s) { return s.stopPropagation(), s.preventDefault(), t.pay(s) }}}, [e('div', {staticClass: 'pay', class: t.payClass}, [t._v('\n          ' + t._s(t.payDesc) + '\n        ')])])]), t._v(' '), e('div', {staticClass: 'ball-container'}, t._l(t.balls, function (s, i) { return e('div', {key: i}, [e('transition', {attrs: {name: 'drop'}, on: {'before-enter': t.beforeEnter, enter: t.enter, 'after-enter': t.afterEnter}}, [e('div', {directives: [{name: 'show', rawName: 'v-show', value: s.show, expression: 'ball.show'}], staticClass: 'ball'}, [e('div', {staticClass: 'inner inner-hook'})])])], 1) })), t._v(' '), e('transition', {attrs: {name: 'fade'}}, [e('div', {directives: [{name: 'show', rawName: 'v-show', value: !t.listShow, expression: '!listShow'}], staticClass: 'cartlist'}, [e('div', {staticClass: 'list-header'}, [e('h1', {staticClass: 'title'}, [t._v('Cart')]), t._v(' '), e('div', {staticClass: 'empty', on: {click: t.empty}}, [t._v('Clear')])]), t._v(' '), e('div', {ref: 'listContent', staticClass: 'list-content'}, [e('ul', t._l(t.selectFoods, function (s, i) { return e('li', {key: i, staticClass: 'food'}, [e('span', {staticClass: 'name'}, [t._v(t._s(s.name))]), t._v(' '), e('div', {staticClass: 'price'}, [e('span', [t._v('$ ' + t._s(s.price * s.count))])]), t._v(' '), e('div', {staticClass: 'cartControl-wrapper'}, [e('cart-num', {attrs: {food: s}})], 1)]) }))])])])], 1), t._v(' '), e('transition', {attrs: {name: 'fade'}}, [e('div', {directives: [{name: 'show', rawName: 'v-show', value: !t.listShow, expression: '!listShow'}], staticClass: 'list-mask', on: {click: t.hideList}})])], 1) }, staticRenderFns: []}; var j = {name: 'Goods', components: {GoodIcon: c, ShopCart: e('VU/8')(I, A, !1, function (t) { e('HzYu') }, 'data-v-68c100fe', null).exports, CartNum: P, FoodDetail: H}, data: function () { return {goods: [], listHeight: [], scrollY: 0, seller: {}, selectedFood: {}} }, computed: {currentIndex: function () { for (var t = 0; t < this.listHeight.length; t++) { var s = this.listHeight[t], e = this.listHeight[t + 1]; if (!e || this.scrollY >= s && this.scrollY < e) return t } return 0 }, selectFoods: function () { var t = []; return this.goods.forEach(function (s) { s.foods.forEach(function (s) { s.count && t.push(s) }) }), t }}, mounted: function () { var t = this; this.menuScroll = new g.a(this.$refs.menuwrapper), this.foodScroll = new g.a(this.$refs.foodwrapper, {probeType: 3}), this.foodScroll.on('scroll', function (s) { t.scrollY = Math.abs(Math.round(s.y)) }) }, created: function () { this.getSellerInfo() }, methods: {getSellerInfo: function () { h.a.get('https://raw.githubusercontent.com/NanJiang327/vuejs/master/takeaway/jsondata/data.json').then(this.getGoodsSuccessInfo) }, getGoodsSuccessInfo: function (t) { var s = this; t.status===200 && (this.goods = t.data.goods, this.seller = t.data.seller, this.$nextTick(function () { s._calculateHeight() })) }, _calculateHeight: function () { var t = this.$refs.foodwrapper.getElementsByClassName('food-list-hook'), s = 0; this.listHeight.push(s); for (var e = 0; e < t.length; e++) { s += t[e].clientHeight, this.listHeight.push(s) } }, selectedMenu: function (t) { var s = this.$refs.foodwrapper.getElementsByClassName('food-list-hook')[t]; this.foodScroll.scrollToElement(s, 300) }, cartAdd: function (t) { var s = this; this.$nextTick(function () { s.$refs.shopcart.drop(t) }) }, foodSelect: function (t, s) { this.selectedFood = t, this.$refs.foodDetail.show() }}}, O = {render: function () { var t = this, s = t.$createElement, e = t._self._c || s; return e('div', [e('div', {staticClass: 'goods'}, [e('div', {ref: 'menuwrapper', staticClass: 'menu-wrapper'}, [e('ul', t._l(t.goods, function (s, i) { return e('good-icon', {key: i, staticClass: 'menu-item icon-style-three border-bottom', class: {current: t.currentIndex === i}, attrs: {item: s, iconInside: !0}, on: {selectedMenu: function (s) { t.selectedMenu(i) }}}) }))]), t._v(' '), e('div', {ref: 'foodwrapper', staticClass: 'foods-wrapper'}, [e('ul', t._l(t.goods, function (s, i) { return e('li', {key: i, staticClass: 'food-list  food-list-hook'}, [e('h1', {staticClass: 'title'}, [t._v(t._s(s.description))]), t._v(' '), e('ul', t._l(s.foods, function (s, i) { return e('li', {key: i, staticClass: 'food-item border-bottom', on: {click: function (e) { t.foodSelect(s, e) }}}, [e('div', {staticClass: 'icon'}, [e('img', {attrs: {width: '57', height: '57', src: s.icon, alt: ''}})]), t._v(' '), e('div', {staticClass: 'content'}, [e('h2', {staticClass: 'name'}, [t._v(t._s(s.name))]), t._v(' '), e('p', {staticClass: 'description'}, [t._v(t._s(s.description))]), t._v(' '), e('div', {staticClass: 'extra'}, [e('span', {staticClass: 'count'}, [t._v('月售' + t._s(s.sellCount) + '份')]), e('span', [t._v('好评率' + t._s(s.rating) + '%')])]), t._v(' '), e('div', {staticClass: 'price'}, [e('span', {staticClass: 'now'}, [t._v('$' + t._s(s.price))]), e('span', {directives: [{name: 'show', rawName: 'v-show', value: s.oldPrice, expression: 'food.oldPrice'}], staticClass: 'old'}, [t._v('$' + t._s(s.oldPrice))])]), t._v(' '), e('div', {staticClass: 'cartcontrol-wrapper'}, [e('cart-num', {attrs: {food: s}, on: {cartadd: t.cartAdd}})], 1)])]) }))]) }))]), t._v(' '), e('shop-cart', {ref: 'shopcart', attrs: {seller: t.seller, selectFoods: t.selectFoods}})], 1), t._v(' '), e('food-detail', {ref: 'foodDetail', attrs: {food: t.selectedFood}, on: {cartadd: t.cartAdd}})], 1) }, staticRenderFns: []}; var U = e('VU/8')(j, O, !1, function (t) { e('PyVx') }, 'data-v-9d18fab4', null).exports, V = e('mvHQ'), B = e.n(V); var z = {props: {seller: {type: Object}}, components: {star: o, split: y, GoodIcon: c}, data: function () { var t, s, e, i; return {favorite: (t = this.seller.id, s = 'favorite', e = !1, (i = window.localStorage.__seller__) && (i = JSON.parse(i)[t]) && i[s] || e)} }, computed: {favoriteText: function () { return this.favorite ? 'Remove':'Favorite' }}, created: function () { var t = this; this.picScroll ? this.picScroll.refresh():this.seller.pics && this.$nextTick(function () { var s = 126 * t.seller.pics.length - 6; t.$refs.picList.style.width = s + 'px', t.picScroll = new g.a(t.$refs.picWrapper, {scrollX: !0, eventPassthrough: 'vertical'}) }), this.scroll ? this.scroll.refresh():this.$nextTick(function () { t.scroll = new g.a(t.$el, {click: !0}) }), this.classMap = ['decrease', 'discount', 'special', 'invoice', 'guarantee'] }, methods: {toggleFavorite: function (t) { var s, e, i, a; t._constructed && (this.favorite = !this.favorite, s = this.seller.id, e = 'favorite', i = this.favorite, (a = window.localStorage.__seller__) ? (a = JSON.parse(a))[s] || (a[s] = {}):(a = {})[s] = {}, a[s][e] = i, window.localStorage.__seller__ = B()(a)) }}}, G = {render: function () { var t = this, s = t.$createElement, e = t._self._c || s; return e('div', {staticClass: 'seller'}, [e('div', {staticClass: 'seller-content'}, [e('div', {staticClass: 'overview'}, [e('h1', {staticClass: 'title'}, [t._v(t._s(t.seller.name))]), t._v(' '), e('div', {staticClass: 'desc border-bottom'}, [e('star', {attrs: {size: 36, score: t.seller.score}}), t._v(' '), e('span', {staticClass: 'text'}, [t._v('(' + t._s(t.seller.ratingCount) + ')')]), t._v(' '), e('span', {staticClass: 'text'}, [t._v('Monthly Sold ' + t._s(t.seller.sellCount))])], 1), t._v(' '), e('ul', {staticClass: 'remark'}, [e('li', {staticClass: 'block'}, [e('h2', [t._v('Start Price')]), t._v(' '), e('div', {staticClass: 'content'}, [e('span', {staticClass: 'stress'}, [t._v('$' + t._s(t.seller.minPrice))])])]), t._v(' '), e('li', {staticClass: 'block'}, [e('h2', [t._v('Seller Delivery')]), t._v(' '), e('div', {staticClass: 'content'}, [e('span', {staticClass: 'stress'}, [t._v('$' + t._s(t.seller.deliveryPrice))])])]), t._v(' '), e('li', {staticClass: 'block'}, [e('h2', [t._v('Average delivery time')]), t._v(' '), e('div', {staticClass: 'content'}, [e('span', {staticClass: 'stress'}, [t._v(t._s(t.seller.deliveryTime) + ' mins')])])])]), t._v(' '), e('div', {staticClass: 'favorite', on: {click: function (s) { t.toggleFavorite(s) }}}, [e('i', {staticClass: 'iconfont icon-favorite', class: {active: t.favorite}}), t._v(' '), e('span', [t._v(t._s(t.favoriteText))])])]), t._v(' '), e('split'), t._v(' '), e('div', {staticClass: 'bulletin'}, [e('h1', {staticClass: 'title'}, [t._v('Special')]), t._v(' '), e('div', {staticClass: 'content-wrapper border-bottom'}, [e('p', {staticClass: 'content'}, [t._v(t._s(t.seller.bulletin))])]), t._v(' '), t.seller.supports ? e('ul', {staticClass: 'supports'}, t._l(t.seller.supports, function (s, i) { return s.type >= 0 ? e('good-icon', {key: i, staticClass: 'support-item icon-style-four', attrs: {item: s, iconInside: !1}}):t._e() })):t._e()]), t._v(' '), e('split'), t._v(' '), e('div', {staticClass: 'pics'}, [e('h1', {staticClass: 'title'}, [t._v('Views')]), t._v(' '), e('div', {ref: 'picWrapper', staticClass: 'pic-wrapper'}, [e('ul', {ref: 'picList', staticClass: 'pic-list'}, t._l(t.seller.pics, function (t, s) { return e('li', {key: s, staticClass: 'pic-item'}, [e('img', {attrs: {src: t, width: '120', height: '120'}})]) }))])]), t._v(' '), e('split'), t._v(' '), e('div', {staticClass: 'info'}, [e('div', {staticClass: 'title  border-bottom'}, [t._v('Seller Info')]), t._v(' '), e('ul', t._l(t.seller.infos, function (s, i) { return e('li', {key: i, staticClass: 'info-item boder-bottom'}, [t._v(t._s(s))]) }))])], 1)]) }, staticRenderFns: []}; var Y = e('VU/8')(z, G, !1, function (t) { e('UDB7') }, 'data-v-93837fc2', null).exports; i.a.use(C.a); var L = new C.a({routes: [{path: '/', redirect: 'goods'}, {path: '/rating', name: 'Rating', component: N}, {path: '/goods', name: 'Goods', component: U}, {path: '/seller', name: 'Seller', component: Y}], linkActiveClass: 'link-active'}), W = e('v5o6'), J = e.n(W); e('9n10'), e('M6Sr'), e('j1ja'), e('jYjM'); i.a.config.productionTip = !1, J.a.attach(document.body), new i.a({el: '#app', router: L, components: {App: m}, template: '<App/>'}) }, PyVx: function (t, s) {}, UDB7: function (t, s) {}, WMfk: function (t, s) {}, 'c/UJ': function (t, s) {}, jYjM: function (t, s) {}, sLx4: function (t, s) {}, vXMS: function (t, s) {}}, ['NHnr'])
// # sourceMappingURL=app.07c5270a64e7d5f369ab.js.map
